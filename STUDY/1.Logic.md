#1 Logic



### # Layout with Flexbox in React Native

- ë¦¬ì•¡íŠ¸ ë„¤ì´í‹°ë¸Œì˜ ë ˆì´ì•„ì›ƒ ê·œì¹™(expo ì™¸ì—ë„ ëª¨ë“  ê²ƒì— ì ìš©ë˜ëŠ” ë¦¬ì—‘íŠ¸ ë„¤ì´í‹°ë¸Œ)
- ë¦¬ì•¡íŠ¸ ë„¤ì´í‹°ë¸Œì—ì„œ ëª¨ë“  flex boxì˜ ë””í´íŠ¸ëŠ” flexDirectionì´ Columnì„.
  - ì™œëƒë©´ ëª¨ë°”ì¼ í°ì—ì„œëŠ” ëŒ€ê²Œ ëª¨ë“ ê²Œ ì„œë¡œ ì•„ë˜ì— ìˆìœ¼ë‹ˆê¹Œ.
  - ë”°ë¼ì„œ, f**lex direction ê¸°ë³¸ê°’ì€ Column**
- ë°˜ë©´ì—, ì›¹ì‚¬ì´íŠ¸ì—ì„œ ëª¨ë“  flexë°•ìŠ¤ì˜ ë””í´íŠ¸ëŠ” row

- ```javascript
  const styles = StyleSheet.create({
    container: {
      flex: 1,
      //flexDirection: "row" //ì´ë ‡ê²Œ ë°”ê¿€ìˆ˜ ìˆìŒ
      alignItems: 'center',
      justifyContent: 'center',
    },
  
    text: {
      color: "black"
    }
  });
  ```

- <View>ëŠ” <div> ê°™ì€ ê²ƒ.

- containerì€ ë¶€ëª¨ ê°™ì€ ê²ƒ.

  ```javascript
  import React from 'react';
  import { StyleSheet, Text, View } from 'react-native';
  
  export default function App() {
    return (
      <View style={styles.container}>
        <View style={styles.yellowView}></View>
        <View style={styles.blueView}></View>
      </View>
    );
  }
  
  const styles = StyleSheet.create({
    container: {
      flex: 1,
    },
  
    yellowView: {
      flex: 1, 
      backgroundColor: "yellow"
    },
  
    blueView:{
      flex: 1, 
      backgroundColor: "blue"
    }
  });
  
  ```

- felx:1 ì€ ì „ì²´ ê³µê°„ì„ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•¨.

  - flexì˜ ê°’ì— ë”°ë¼ ì‚¬ìš©í•˜ëŠ” ê³µê°„ ì •í•´ì§.

  - flex, direction, justifyContent, alignItems, flexwrap ì „ë¶€ ë‹¤ ë˜‘ê°™ì´ ì‘ë™í•¨.

  - ë¦¬ì•¡íŠ¸ ë„¤ì´í‹°ë¸ŒëŠ” width, heightê°™ì€ ê²ƒë“¤ì„ ë§ì´ ì“¸ í•„ìš”ê°€ ì—†ìŒ.

  - flexë¡œ ë ˆì•„ì´ì›ƒ ì½”ë”©í•˜ëŠ” ê²ƒì„ ê¶Œì¥

    â€‹	ğŸ‘‰ ì´ê²ƒì´ ê¸°ê¸°ì˜ í¬ê¸°ë§ˆë‹¤ í˜¹ì€ íšŒì „ì„ í•  ë•Œ ì•Œì•„ì„œ ë§ì¶°ì§. (flex ë°•ìŠ¤ë¡œ ë§Œë“¤ë©´.)



### # Loading Screen

- ìŠ¤í”Œë˜ì‹œ í™”ë©´ ë§Œë“¤ê¸°

  ```javascript
  import React from 'react';
  import Loading from "./Loading"
  
  export default function App() {
    return (
      <Loading />
    );
  }
  ```

  ```javascript
  import React from "react";
  import { StyleSheet, Text, View} from "react-native";
  
  export default function Loading(){
      return (
      <View style={styles.container}>
          <Text style={styles.text}>Getting the Awesome Weather</Text>
      </View>
      );
  }
  
  const styles = StyleSheet.create({
      container:{
          flex: 1,
          justifyContent: "flex-end",
          paddingHorizontal: 30,
          paddingVertical: 100,
          backgroundColor: "#FDF6AA"
      },
      text:{
          color: "#2c2c2c",
          fontSize: 30
      }
  });
  ```

  

### # Getting the Location

- react native: https://facebook.github.io/react-native/docs/geolocation#__docusaurus

- expo: https://docs.expo.io/versions/v36.0.0/sdk/location/#__next

  ğŸ‘‰ ë” ë§ì€ ê²ƒì„ ì œê³µ

  ```
  expo install expo-location
  ```

- ì½”ë“œ

  ```javascript
  import React from "react";
  import Loading from "./Loading"
  import * as Location from "expo-location";
  
  export default class extends React.Component  {
  
    getLocation = async() =>{
      const location = await Location.getCurrentPositionAsync();
      console.log(location)
    }
  
    componentDidMount(){
      this.getLocation();
    }
    render(){
      return <Loading />;
    }
  }
  
  ```



### # Asking for Permissions

- permissionìš”ì²­í•˜ê¸° ìœ„í•´ì„œ Loaction.requestPermissionAsync()ë§Œ í•˜ë©´ ë¨.

  - Async -> await í•„ìš”

- ```javascript
  getLocation = async() =>{
      try{
        await Location.requestPermissionsAsync();
        const location = await Location.getCurrentPositionAsync();
        console.log(location);
      }catch(error){
        Alert.alert("Can't find you." , "So sad");
      }
    }
  //tryì—ì„œ errorê°€ ë°œìƒí•˜ë©´ catchë¬¸ ì‹¤í–‰
  ```

- ```javascript
  import React from "react";
  import {Alert} from "react-native";
  import Loading from "./Loading";
  import * as Location from "expo-location";
  
  export default class extends React.Component  {
    state = {
      isLoading: true
    }
  
    getLocation = async() =>{
      try{
        await Location.requestPermissionsAsync();
        const {coords : { latitude, longitude}} = await Location.getCurrentPositionAsync();
        this.setState({isLoading : false});
        //send to API and get Weather
  
      }catch(error){
        Alert.alert("Can't find you." , "So sad");
  
      }
    }
  
    componentDidMount(){
      this.getLocation();
    }
    render(){
      const {isLoading} = this.state;
      return isLoading ? <Loading /> : null;
    }
  }
  ```

  

### # Getting the Weather

- ë‚ ì”¨ ì •ë³´ : https://openweathermap.org/

  - key í¬í•¨í•˜ëŠ” ë°©ë²•: https://openweathermap.org/appid#use

- Axios : fetchë¥¼ í•˜ê¸° ìœ„í•œ ê²ƒ -> ë°ì´í„°ë“¤ì„ fetchí•¨.

  ```javascript
  getWeather = async(latitude, longitude) => {
      const {data} = await axios.get(
        `http://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&APPID=${API_KEY}`
        ) ;
        console.log(data);
  
    }
  ```

  
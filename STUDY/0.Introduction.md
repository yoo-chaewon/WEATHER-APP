# #0 Introduction



### # Introduction

- 크로스 플랫폼 ios, android 앱을 만들 것임

- 리엑트와 결합된 자바스크립트, 그리고 엑스포의 파워를 이용해서.

- 핸드폰의 geolocation에 접근해서, 그걸 api에 보낸 다음 날씨에 따라 스크린을 덮을 것임!

  - 레이아웃 시스템, 현재의 위치, 데이터 작업

    

### # Requirements

📌 설치할 것

- **Node.js** -> 10이상

- **npm**(Node Version Manager) -> 6이상

- **시뮬레이터** -> 안드로이드 스튜디오, xcode

- iOS, Android 앱 **엑스포** **폰**에 설치

  https://apps.apple.com/kr/app/expo-client/id982107779

  👉 iOS, 안드로이드 앱 expo가 테스트 할 수 있는 유일한 방법(휴대폰에서)

  

📌 설치 완료 후

- Reactive Native웹사이트 가서

  https://facebook.github.io/react-native/docs/getting-started

  Expo CLI QuickStart 하기.

  👉npm은 default로 같이 인스톨 되고, 그 다음에 expo CLI인스톨 

  ```
  npm install -g expo-cli
  ```

  

### # Expo vs RN CLI

- expo가 뭐지? 리엑트 네이트브와 어떤 관련이 있나?

  - 기본적으로 expo는 **create-react-app** 같은 것.
  - 리엑트 네이티브를 위한 설정 파일 같은 것들이 없는 것으로 모든 것이 셋업 되어 있음.
    - reat native위에 더 많은 것을 갖고 있음. 
  - 따라서, 만약에 리엑트 네이티브를 수동으로 작업하고 싶다면, Reative Native CLI로 설정해야함.

- Reative native CLI방식은 native files들을 더 많이 컨트롤 하고 싶을 때를 위한 것.

- expo는 모든 native files들을 숨기고, 모든 것을 관리해줌. 

  - expo의 가장 큰 강점은 핸드폰에서 앱을 테스트 할 수 있음. (매우 빠르게!)

  - 그 외에도 simulation을 처리하고, react native 업데이트 처리, 문서 정리 잘 되어 있는 등 강점 많음!

    - 고로, expo는 수동적인 작업들이 덜 필요하고, 시작하는데 훨씬 더 빠른 방식임.

  - 만약에 reat native CLI를 이용해서 폰에서 앱을 테스트하려면 iOS의 경우에

    계정이 있어야 하고, 개발자 계정이있어야 하고, Xcode Connect를 통해서 로그인 해야하는 등 귀찮은 일이 많음. 👉 expo가 이 모든 것을 대신 처리해줌.

- 또한 building process를 처리해줌.

  ios와 안드로이드를 위한 앱을 빌드해줌!

- 하지만 expo의 유일한 문제점은 native files들을 크게 제어 할 수 없음.
- 즉, **expo는 리엑트 네이티브 작업 방식 중 하나** ‼️



### # Creating the Project

```
//파일 경로 가서
expo init AwesomeProject
```

```
? Choose a template: (Use arrow keys)
  ----- Managed workflow -----
❯ blank                 a minimal app as clean as an empty canvas
  blank (TypeScript)    same as blank but with TypeScript configuration
  tabs                  several example screens and tabs using react-navigation
  ----- Bare workflow -----
  minimal               bare and minimal, just the essentials to get you started
  minimal (TypeScript)  same as minimal but with TypeScript configuration
```

- 자동생성 뭐 할거냐 묻는것! 👉 blanck 선택하자!!

- 이름 설정해주기!

  ```
  ? Choose a template: expo-template-blank
  ? Please enter a few initial configuration values.
    Read more: https://docs.expo.io/versions/latest/workflow/configuration/ › 100% completed
   {
     "expo": {
       "name": "Weather App",
       "slug": "Weather-App"
     }
   }
  ```

- 🔈🔈**시작하려면 그 폴더로 가서**🔈🔈

  ```
  npm start
  ```

  자동으로 export DEV tools오픈해줌.

  tunnel, Metro bundler을 자동으로 시작함.

- QR코드 생성됨

  👉 안드로이드 폰을 열고 expo로 가서 scan QR코드를 클릭하는 순간 폰에서 앱을 테스트할 수 있음.

  👉 아이폰은 ios App에 로그인 후에 콘솔로 가서 'expo login'을 입력함!

- 파일 소개

  ```
  babel.config.js -> 건들지 말것
  app.json -> configuration 파일(expo가 읽게 될.)
  App.js -> 기본적인 리엑트 컴포넌트인데 살짝 다름.
  ```

  

### # Getting to Know Expo

- live reloading / hot reloading

  - live reload: 수정사항을 저장하면 expo가 전체 어플리케이션을 reload함. 즉 자동으로 리플레쉬가 되면서 변경된 것을 확인할 수 있음. 

- 만약에 새로고침을 기기에서 하고 싶다면, command+R

- 시뮬레이터에서 expo개발자 메뉴 열려면 command+D

  - 여기에 Debug Remote JS가 있는데 이거는 앱을 느리게 함! 꼭 필요할 때만 써야함.

    예를들면, 네트워크 요청이라던가 콘솔로그 확인할 때.



- **명령어**

  ```
  //expo 어플리케이션을 시뮬레이터에서 실행시켜줌.
  npm run android
  npm run ios
  
  //혹은 expo 에서 run on android/ios해도 됨.
  ```

  

### # How does React Native Work?

- 어떻게 리액트가 ios와 anroid에서 네이티브에서 동작하는지.

- 모바일 앱을 만드는 3가지 다른 방법

  1. 완전 native: Swift or Objective-c로 ios(Xcode)앱을 만드는 것, Java or Kotlin으로 Android(Android Studio)만드는 것.

  2. 앱 기반 웹뷰를 만드는 것. 

     매우 간단한 앱 인 경우, 앱 안에서 동작하는 웹사이트같은 것.

     👉 하이브리드 웹뷰 방식. 

     껍데기가 있고(껍데기는 Cordova or PhoneGap에 의해 만들어진 native), 이게 앱스토어로 가는 것이고 이것을 다운로드 해야 함. 근데 사용자가 이 앱을 오픈할 때 보여주는 것들은 HTML, CSS, JavaScript임. 마치 그게 웹사이트인것 처럼. 그래서 네이티브 특징들을 실제 어플리케이션에서 많이 얻지 못함.(ex. 아마존 앱)

  3. 리액트 네이티브

     Android, iOS 둘 다 자바스크립트를 실행할 수 있음. 자바스트립트 엔진을 갖고 있기 때문에. 

     그래서 리액트 네이티브가 하는 일은 자바스크립트를 이용해서  ios 또는 Android의 네이티브 엔진에게(자바스크립트를 이용한) 메세지를 보내는 것임.

     즉, 연결을 이어주는 브릿지 역할임

     ```javascript
     import React from 'react';
     import { StyleSheet, Text, View } from 'react-native';
     ```

     👉 자바스크립트와 android, ios의 네이티브 텍스트, 뷰를 이어주는 부분!

     - 즉, 할일은 컴포넌트를 사용하고(그것은 자바스크립트임), 근데 컴포넌트 안에 브릿지가 있음. (브릿지는 누군가가 작성해놓은 swift/java로 아이폰과 안드로이드 폰이 이 component를 이해하도록 사용되는 것. -- 예. 페이스북)
     - 리액트 네이티브는 아이폰, 안드로이드 폰의 core로 가지만 **항상 브릿지가 필요함**(자바스크립트와 폰 과의 연결을 하기 위해서) 👉 이것이 느린 성능을유발할 수도 있음. 한번에 브릿지로 많은 데이터를 보내게 되면.

- **결론**

  리액트 네이티브는 어플리케이션을 만들기 퍼펙트 함. 특히 컨텐츠만 다루는 것들 예를 들면, 인스타그램(사진 가져오는 것/ 좋아요/ 코멘트)에 유리함. 혹은 카카오톡.

  반면에 3D비디오 게임 같은 것을 만든다면, 코드를 최적화하는데 많은 시간을 써야 할 것임(그렇지 않으면 브릿지가 많이 느려짐.) 혹은 증강 현실 앱(카메라 이용하는) 등에는 불리함.



- 리액트 네이티브의 컴포넌트

  - 전부다 view고 view안에 모든 것을 집어넣어야함. 

  - 텍스트는 <Text></Text>컴포넌트 안에.

    ```javascript
    <View style={styles.container}>
          <Text>Hello!</Text>
    </View>
    ```

    이런 룰이 존재하는 이유는, 아까 말한 브릿지 때문!

- Text 색상을 바꿔보장!!

  ```javascript
  <View style={styles.container}>
        <Text style={styles.text}>Hello!</Text>  //style추가
  </View>
  
  const styles = StyleSheet.create({
    container: {
      flex: 1,
      backgroundColor: "red",
      alignItems: 'center',
      justifyContent: 'center',
    },
  
    text: {//text 속성 추가
      color: "white"
    }
  });
  ```

  

- **엑스포 종료!**

- ```
  expo kill
  ```

  